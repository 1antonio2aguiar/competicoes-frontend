<nb-auth-block>
  <h2 class="title">Login</h2>
  <p>Olá! Faça o login com seu e-mail.</p>

  <form (ngSubmit)="login()" #form="ngForm">
    
    <div *ngIf="showMessages.error && errors?.length && !submitted" class="alert alert-danger" role="alert">
      <div><strong>Atenção!</strong></div>
      <div *ngFor="let error of errors">{{ error }}</div>
    </div>

    <div class="form-group">
      <label for="input-email" class="label">Endereço de E-mail:</label>
      <input nbInput fullWidth
             [(ngModel)]="user.email"
             #email="ngModel"
             name="email"
             id="input-email"
             placeholder="E-mail"
             [status]="email.dirty ? (email.invalid ? 'danger' : 'success') : 'basic'"
             required
             autofocus>
      <ng-container *ngIf="email.invalid && email.touched">
        <p class="caption status-danger" *ngIf="email.errors?.required">
          E-mail é obrigatório!
        </p>
      </ng-container>
    </div>

    <div class="form-group">
      <label for="input-password" class="label">Senha:</label>
      <input nbInput fullWidth
             [(ngModel)]="user.password"
             #password="ngModel"
             name="password"
             type="password"
             id="input-password"
             placeholder="Senha"
             [status]="password.dirty ? (password.invalid ? 'danger' : 'success') : 'basic'"
             required>
      <ng-container *ngIf="password.invalid && password.touched">
        <p class="caption status-danger" *ngIf="password.errors?.required">
          Senha é obrigatória!
        </p>
      </ng-container>
    </div>

    <div class="form-group">
        <nb-checkbox name="rememberMe" [(ngModel)]="user.rememberMe">Lembrar-me</nb-checkbox>
    </div>

    <button nbButton fullWidth status="primary" [disabled]="submitted || !form.valid">
      ENTRAR
    </button>
  </form>
</nb-auth-block>